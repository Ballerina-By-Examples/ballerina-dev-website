---
layout: ballerina-example-page-old
title: Working directly with JSON
description: This BBE demonstrates how to work directly with JSON values in Ballerina.
keywords: ballerina, ballerina by example, bbe, json type, json
permalink: /learn/by-example/working-directly-with-json
active: working-directly-with-json
redirect_from:
  - /swan-lake/learn/by-example/working-directly-with-json
  - /swan-lake/learn/by-example/working-directly-with-json.html
---
<div class="row cBallerina-io-Gray-row">
        <div class="container cBallerinaBySampleContainer">
            <div class="FullCode">
                <div class="highlight"><pre><span class="kn">import</span> <span class="nx">ballerina</span><span class="o">/</span><span class="nx">io</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">ballerina</span><span class="o">/</span><span class="nx">lang</span><span class="p">.</span><span class="nx">value</span> <span class="k">as</span> <span class="nx">value</span><span class="p">;</span>

<span class="c1">// Define a variable of type `json` that holds a mapping value.</span>
<span class="kt">json</span> <span class="nx">j</span> <span class="p">=</span> <span class="p">{</span>
    <span class="nx">x</span><span class="p">:</span> <span class="p">{</span>
        <span class="nx">y</span><span class="p">:</span> <span class="p">{</span>
            <span class="nx">z</span><span class="p">:</span> <span class="s">&quot;ballerina&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Field access is allowed on the `json`-typed variable. However, the return</span>
<span class="c1">// type would be a union of `json` and `error`.</span>
<span class="kt">json</span> <span class="nx">v</span> <span class="p">=</span> <span class="nx">check</span> <span class="nx">j</span><span class="p">.</span><span class="nx">x</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
<span class="kt">string</span> <span class="nx">s1</span> <span class="p">=</span> <span class="nx">check</span> <span class="nx">v</span><span class="p">.</span><span class="nx">z</span><span class="p">;</span>

<span class="c1">// `ensureType` method can also be used to perform conversions.</span>
<span class="kt">string</span> <span class="nx">s2</span> <span class="p">=</span> <span class="nx">check</span> <span class="nx">value</span><span class="p">:</span><span class="nx">ensureType</span><span class="p">(</span><span class="nx">v</span><span class="p">.</span><span class="nx">z</span><span class="p">,</span> <span class="kt">string</span><span class="p">);</span>

<span class="nx">public</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;Value of s1: &quot;</span> <span class="o">+</span> <span class="nx">s1</span><span class="p">);</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;Value of s2: &quot;</span> <span class="o">+</span> <span class="nx">s2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

            </div>

            <div class="col-xs-12 col-sm-12 col-md-12">
                <table class="cTopInfoContainer cTopControlsContainer">
                    <tr>
                        <td class="cLeftTD">
                            <h2>Working directly with JSON</h2>
                            <p><p>Ballerina defines certain types as lax types for which static typing rules are less strict.
 For example, field access (<code>.</code>) and optional field access (<code>?.</code>), which are generally allowed on
 records and objects for fields that are defined in the type descriptors, are also additionally
 allowed on lax types. For such operations, some of the type checking is moved from compile time to runtime.
 <code>json</code> is defined to be a lax type along with any <code>map&lt;T&gt;</code> where <code>T</code> is a lax type.</p>
</p>

                        </td>
                        <td class="cRightTD">
                            <div class="cTopButtonContainer">
                                
                                <div class="cButtonInfoContainer">
                                    <a class="prev" href="json-type.html">
                                        <span>< PREVIOUS</span>
                                        <p>JSON type</p>
                                    </a>
                                </div>
                                 
                                <div class="cButtonInfoContainer">
                                    <a class="next" href="match-statement-with-maps.html">
                                        <span>NEXT ></span>
                                        <p>Match statement with maps</p>
                                    </a>
                                </div>
                                
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="example" id="working-directly-with-json">
                <div class="col-xs-12 col-sm-12 col-md-12 cBBETable-container cCodeLeft">
                    <div class="cTopControlsContainer">
                        <div class="cTopControlsRow">
                            <div class="cLeftTD">
                                <div class="cBBE-links">
                                    <ul>
                                        <li>
                                            <a class="copy"><img src="/img/copy-icon.svg" /></a>
                                        </li>
                                        <li>
                                            <a target="_blank" href="https://github.com/ballerina-platform/ballerina-distribution/tree/v2201.1.0/examples/working-directly-with-json/"><img src="/img/github-logo-green.svg" /></a>
                                        </li>
                                        
                                        <li>
                                            <a target="_blank" href="https://play.ballerina.io/?gist=d5861c630089a5941c65b57cd1522f2e&file=working_directly_with_json.bal"><img src="/img/main-play-green-btn.svg" /></a>
                                        </li>
                                        
                                    </ul>
                                </div>
                            </div> 
                        </div>
                    </div>
              
                    
                    <div class="codeSnippeset">

                        <div class="cBBE-body">
                            
                            <div class="cTR">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>import ballerina/io;
import ballerina/lang.value as value;
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>json j = {
    x: {
        y: {
            z: &quot;ballerina&quot;
        }
    }
};
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Define a variable of type <code>json</code> that holds a mapping value.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>json v = check j.x.y;
string s1 = check v.z;
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Field access is allowed on the <code>json</code>-typed variable. However, the return
 type would be a union of <code>json</code> and <code>error</code>.</p>

<<<<<<< HEAD
public function main() {
    io:println("Value of s1: " + s1);
    io:println("Value of s2: " + s2);
}</code>
  <button playgroundLink="https://play.ballerina.io/?gist=18298cc0213da844146c4350f45d37df&file=working_directly_with_json.bal">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#EEE" class="bi bi-play-circle" viewBox="0 0 16 16">
      <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
      <path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"/>
    </svg>
  </button>
  <button>
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#EEE" class="bi bi-github" viewBox="0 0 16 16">
      <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
    </svg>
  </button>
  <button>
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#EEE" class="bi bi-clipboard" viewBox="0 0 16 16">
      <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
      <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
    </svg>
  </button>
  <button class="check-button">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#45FF00" class="bi bi-check" viewBox="0 0 16 16">
      <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
    </svg>
  </button>
</pre>
=======
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">
>>>>>>> 88d08232dd50c54f4748de0b2f7e7626f3adf094

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>string s2 = check value:ensureType(v.z, string);
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p><code>ensureType</code> method can also be used to perform conversions.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR">

                                <div class="code">
                                    <div class="highlight"><pre><code class=language-ballerina>public function main() {
    io:println(&quot;Value of s1: &quot; + s1);
    io:println(&quot;Value of s2: &quot; + s2);
}
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                    <div class="codeSnippeset">

                        <div class="cBBE-body">
                            
                            <div class="cTR cOutputTr">

                                <div class="code cOutput">
                                    <div class="highlight"><pre><code class=shell-session>bal run working_directly_with_json.bal
Value of s1: ballerina
Value of s2: ballerina
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    


                     
                </div>
            </div>
        </div>
    </div>

     <script>
            $(document).ready(function() {

                // hljs.initHighlightingOnLoad();

                $(".switch").click(function() {
                    $(".cCodeRight").toggleClass('cShow');
                    $(".cCodeLeft").toggleClass('cHide');
                });

                // get code text
                var codeSnippet = document.getElementsByClassName('FullCode')[0];
                var codeText = codeSnippet.getElementsByTagName('pre')[0].textContent;

                // register "copy to clipboard" event to elements with "copy" class
                var clipboard = new ClipboardJS('.copy', {
                    text: function(trigger) {
                        return codeText;
                    }
                });

                // Register events show hide tooltip on click event
                clipboard.on('success', function(e) {
                    setTooltip(e.trigger, 'Copied!');
                    hideTooltip(e.trigger);
                });

                clipboard.on('error', function(e) {
                    setTooltip(e.trigger, 'Failed!');
                    hideTooltip(e.trigger);
                });

                $('.copy').tooltip({
                    trigger: 'click',
                    placement: 'bottom'
                });
                $("a.copy").unbind("click");
            });

            function setTooltip(btn, message) {
                $(btn).attr('data-original-title', message)
                    .tooltip('show');
            }

            function hideTooltip(btn) {
                setTimeout(function() {
                    $(btn).tooltip('hide').removeAttr('data-original-title');
                }, 1000);
            }
        </script>
